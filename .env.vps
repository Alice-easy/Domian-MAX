# Domain MAX API 环境变量配置 - VPS部署专用
# 适用于前后端分离架构

# ==============================================
# VPS 基础配置
# ==============================================

# 环境模式
APP_MODE=production
PORT=8080

# API 基础URL（你的VPS域名）
BASE_URL=https://api.yourdomain.com

# ==============================================
# CORS 配置（前后端分离关键配置）
# ==============================================

# 允许访问的前端域名（逗号分隔）
# 包括你的 Cloudflare Pages URL 和自定义域名
CORS_ALLOWED_ORIGINS=https://your-project.pages.dev,https://yourdomain.com

# ==============================================
# 远程数据库配置
# ==============================================

# 数据库类型：postgres, mysql
DB_TYPE=postgres

# 数据库连接信息
DB_HOST=your-db-host.com
DB_PORT=5432
DB_USER=your_db_user
DB_PASSWORD=your_secure_database_password
DB_NAME=domain_manager
DB_SSL_MODE=require

# ==============================================
# 安全配置（必须配置）
# ==============================================

# JWT 密钥（至少32字符）
# 生成命令: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters

# AES 加密密钥（64位十六进制，32字节）
# 生成命令: openssl rand -hex 32
ENCRYPTION_KEY=your_64_character_encryption_key_here

# JWT 过期时间（小时）
JWT_EXPIRATION_HOURS=24

# ==============================================
# 邮件配置（可选）
# ==============================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@yourdomain.com

# ==============================================
# 部署示例
# ==============================================

# 1. 复制此文件到 VPS 上的项目目录
# 2. 重命名为 .env: cp .env.vps .env
# 3. 编辑配置: nano .env
# 4. 构建API: ./build-api.sh cross
# 5. 运行API: ./domain-max-api-linux

# ==============================================
# 云数据库配置示例
# ==============================================

# PlanetScale (MySQL):
# DB_TYPE=mysql
# DB_HOST=your-db.planetscale.com
# DB_PORT=3306
# DB_SSL_MODE=require

# Supabase (PostgreSQL):
# DB_TYPE=postgres
# DB_HOST=db.your-project.supabase.co
# DB_PORT=5432
# DB_SSL_MODE=require

# AWS RDS:
# DB_HOST=your-db.region.rds.amazonaws.com
# DB_SSL_MODE=require