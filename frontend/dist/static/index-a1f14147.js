import{r as T,c as Ir,g as $t,e as Nr,R as Mt,u as Ae,f as dt,O as zt,N as ue,L as fe,h as Lr,i as Fr,j as z,B as $r}from"./vendor-289f3ca4.js";import{r as Mr,m as v,U as H,S as ut,L as Bt,A as ie,M as Ut,B as A,a as qt,D as Ht,b as X,c as Vt,d as Jt,G as De,F as b,C as D,I as O,e as Z,f as Ie,T as Yt,g as zr,h as gt,i as Wt,R as G,j as N,k as Q,l as Br,n as Ur,o as ne,P as Ne,p as xe,q as oe,s as se,t as W,E as ye,u as ge,v as je,H as qr,w as Hr,x as Vr,y as pe,z as Jr,J as Yr,K as jt,N as Wr,O as Kr,Q as Xr,V as Gr}from"./antd-567f899d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Kt={exports:{}},Le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=T,Zr=Symbol.for("react.element"),en=Symbol.for("react.fragment"),tn=Object.prototype.hasOwnProperty,rn=Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nn={key:!0,ref:!0,__self:!0,__source:!0};function Xt(e,t,n){var s,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)tn.call(t,s)&&!nn.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:Zr,type:e,key:o,ref:a,props:i,_owner:rn.current}}Le.Fragment=en;Le.jsx=Xt;Le.jsxs=Xt;Kt.exports=Le;var r=Kt.exports,nt={},bt=Ir;nt.createRoot=bt.createRoot,nt.hydrateRoot=bt.hydrateRoot;var Fe={},Gt={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Gt);var $e=Gt.exports,Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var sn={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};Me.default=sn;var ze={},be={},Be={},Qt={exports:{}},Zt={exports:{}},er={exports:{}},tr={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(tr);var rr=tr.exports,nr={exports:{}};(function(e){var t=rr.default;function n(s,i){if(t(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,i||"default");if(t(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(nr);var on=nr.exports;(function(e){var t=rr.default,n=on;function s(i){var o=n(i,"string");return t(o)=="symbol"?o:o+""}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(er);var an=er.exports;(function(e){var t=an;function n(s,i,o){return(i=t(i))in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Zt);var ln=Zt.exports;(function(e){var t=ln;function n(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);o&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),a.push.apply(a,l)}return a}function s(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?n(Object(a),!0).forEach(function(l){t(i,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(a,l))})}return i}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Qt);var cn=Qt.exports,Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.commonLocale=void 0;Ue.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var dn=$e.default;Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var St=dn(cn),un=Ue,fn=(0,St.default)((0,St.default)({},un.commonLocale),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",week:"周",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});Be.default=fn;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.default=void 0;const pn={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]};Se.default=pn;var sr=$e.default;Object.defineProperty(be,"__esModule",{value:!0});be.default=void 0;var hn=sr(Be),mn=sr(Se);const ir={lang:Object.assign({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},hn.default),timePickerLocale:Object.assign({},mn.default)};ir.lang.ok="确定";be.default=ir;var xn=$e.default;Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var yn=xn(be);ze.default=yn.default;var qe=$e.default;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var gn=qe(Me),jn=qe(ze),bn=qe(be),Sn=qe(Se);const U="${label}不是一个有效的${type}",wn={locale:"zh-cn",Pagination:gn.default,DatePicker:bn.default,TimePicker:Sn.default,Calendar:jn.default,global:{placeholder:"请选择",close:"关闭"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckAll:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:U,method:U,array:U,object:U,number:U,date:U,boolean:U,integer:U,float:U,regexp:U,email:U,url:U,hex:U},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};Fe.default=wn;var vn=Fe;const _n=$t(vn);var En={exports:{}};(function(e,t){(function(n,s){e.exports=s(Mr())})(Nr,function(n){function s(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var i=s(n),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(a,l){return l==="W"?a+"周":a+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(a,l){var f=100*a+l;return f<600?"凌晨":f<900?"早上":f<1100?"上午":f<1300?"中午":f<1800?"下午":"晚上"}};return i.default.locale(o,null,!0),o})})(En);const wt=e=>{let t;const n=new Set,s=(p,x)=>{const S=typeof p=="function"?p(t):p;if(!Object.is(S,t)){const E=t;t=x??(typeof S!="object"||S===null)?S:Object.assign({},t,S),n.forEach(m=>m(t,E))}},i=()=>t,f={setState:s,getState:i,getInitialState:()=>c,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{n.clear()}},c=t=e(s,i,f);return f},Tn=e=>e?wt(e):wt;var or={exports:{}},ar={},lr={exports:{}},cr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ae=T;function Rn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Rn,Pn=ae.useState,On=ae.useEffect,kn=ae.useLayoutEffect,An=ae.useDebugValue;function Dn(e,t){var n=t(),s=Pn({inst:{value:n,getSnapshot:t}}),i=s[0].inst,o=s[1];return kn(function(){i.value=n,i.getSnapshot=t,Qe(i)&&o({inst:i})},[e,n,t]),On(function(){return Qe(i)&&o({inst:i}),e(function(){Qe(i)&&o({inst:i})})},[e]),An(n),n}function Qe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function In(e,t){return t()}var Nn=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?In:Dn;cr.useSyncExternalStore=ae.useSyncExternalStore!==void 0?ae.useSyncExternalStore:Nn;lr.exports=cr;var Ln=lr.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=T,Fn=Ln;function $n(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:$n,zn=Fn.useSyncExternalStore,Bn=He.useRef,Un=He.useEffect,qn=He.useMemo,Hn=He.useDebugValue;ar.useSyncExternalStoreWithSelector=function(e,t,n,s,i){var o=Bn(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=qn(function(){function f(E){if(!c){if(c=!0,p=E,E=s(E),i!==void 0&&a.hasValue){var m=a.value;if(i(m,E))return x=m}return x=E}if(m=x,Mn(p,E))return m;var g=s(E);return i!==void 0&&i(m,g)?(p=E,m):(p=E,x=g)}var c=!1,p,x,S=n===void 0?null:n;return[function(){return f(t())},S===null?void 0:function(){return f(S())}]},[t,n,s,i]);var l=zn(e,o[0],o[1]);return Un(function(){a.hasValue=!0,a.value=l},[l]),Hn(l),l};or.exports=ar;var Vn=or.exports;const Jn=$t(Vn),{useDebugValue:Yn}=Mt,{useSyncExternalStoreWithSelector:Wn}=Jn;const Kn=e=>e;function Xn(e,t=Kn,n){const s=Wn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Yn(s),s}const vt=e=>{const t=typeof e=="function"?Tn(e):e,n=(s,i)=>Xn(t,s,i);return Object.assign(n,t),n},Gn=e=>e?vt(e):vt;function Qn(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const a=f=>f===null?null:JSON.parse(f,t==null?void 0:t.reviver),l=(o=n.getItem(i))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,t==null?void 0:t.replacer)),removeItem:i=>n.removeItem(i)}}const he=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return he(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return he(s)(n)}}}},Zn=(e,t)=>(n,s,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,y)=>({...y,...h}),...t},a=!1;const l=new Set,f=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...h)},s,i);const p=he(o.serialize),x=()=>{const h=o.partialize({...s()});let y;const d=p({state:h,version:o.version}).then(j=>c.setItem(o.name,j)).catch(j=>{y=j});if(y)throw y;return d},S=i.setState;i.setState=(h,y)=>{S(h,y),x()};const E=e((...h)=>{n(...h),x()},s,i);let m;const g=()=>{var h;if(!c)return;a=!1,l.forEach(d=>d(s()));const y=((h=o.onRehydrateStorage)==null?void 0:h.call(o,s()))||void 0;return he(c.getItem.bind(c))(o.name).then(d=>{if(d)return o.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==o.version){if(o.migrate)return o.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var j;return m=o.merge(d,(j=s())!=null?j:E),n(m,!0),x()}).then(()=>{y==null||y(m,void 0),a=!0,f.forEach(d=>d(m))}).catch(d=>{y==null||y(void 0,d)})};return i.persist={setOptions:h=>{o={...o,...h},h.getStorage&&(c=h.getStorage())},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:h=>(l.add(h),()=>{l.delete(h)}),onFinishHydration:h=>(f.add(h),()=>{f.delete(h)})},g(),m||E},es=(e,t)=>(n,s,i)=>{let o={storage:Qn(()=>localStorage),partialize:g=>g,version:0,merge:(g,h)=>({...h,...g}),...t},a=!1;const l=new Set,f=new Set;let c=o.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},s,i);const p=()=>{const g=o.partialize({...s()});return c.setItem(o.name,{state:g,version:o.version})},x=i.setState;i.setState=(g,h)=>{x(g,h),p()};const S=e((...g)=>{n(...g),p()},s,i);i.getInitialState=()=>S;let E;const m=()=>{var g,h;if(!c)return;a=!1,l.forEach(d=>{var j;return d((j=s())!=null?j:S)});const y=((h=o.onRehydrateStorage)==null?void 0:h.call(o,(g=s())!=null?g:S))||void 0;return he(c.getItem.bind(c))(o.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==o.version){if(o.migrate)return[!0,o.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var j;const[_,R]=d;if(E=o.merge(R,(j=s())!=null?j:S),n(E,!0),_)return p()}).then(()=>{y==null||y(E,void 0),E=s(),a=!0,f.forEach(d=>d(E))}).catch(d=>{y==null||y(void 0,d)})};return i.persist={setOptions:g=>{o={...o,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(f.add(g),()=>{f.delete(g)})},o.skipHydration||m(),E||S},ts=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?Zn(e,t):es(e,t),rs=ts;function dr(e,t){return function(){return e.apply(t,arguments)}}const{toString:ns}=Object.prototype,{getPrototypeOf:ft}=Object,{iterator:Ve,toStringTag:ur}=Symbol,Je=(e=>t=>{const n=ns.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),J=e=>(e=e.toLowerCase(),t=>Je(t)===e),Ye=e=>t=>typeof t===e,{isArray:le}=Array,me=Ye("undefined");function we(e){return e!==null&&!me(e)&&e.constructor!==null&&!me(e.constructor)&&B(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fr=J("ArrayBuffer");function ss(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fr(e.buffer),t}const is=Ye("string"),B=Ye("function"),pr=Ye("number"),ve=e=>e!==null&&typeof e=="object",os=e=>e===!0||e===!1,Ee=e=>{if(Je(e)!=="object")return!1;const t=ft(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ur in e)&&!(Ve in e)},as=e=>{if(!ve(e)||we(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ls=J("Date"),cs=J("File"),ds=J("Blob"),us=J("FileList"),fs=e=>ve(e)&&B(e.pipe),ps=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||B(e.append)&&((t=Je(e))==="formdata"||t==="object"&&B(e.toString)&&e.toString()==="[object FormData]"))},hs=J("URLSearchParams"),[ms,xs,ys,gs]=["ReadableStream","Request","Response","Headers"].map(J),js=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _e(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),le(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(we(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(s=0;s<a;s++)l=o[s],t.call(null,e[l],l,e)}}function hr(e,t){if(we(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const te=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mr=e=>!me(e)&&e!==te;function st(){const{caseless:e}=mr(this)&&this||{},t={},n=(s,i)=>{const o=e&&hr(t,i)||i;Ee(t[o])&&Ee(s)?t[o]=st(t[o],s):Ee(s)?t[o]=st({},s):le(s)?t[o]=s.slice():t[o]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&_e(arguments[s],n);return t}const bs=(e,t,n,{allOwnKeys:s}={})=>(_e(t,(i,o)=>{n&&B(i)?e[o]=dr(i,n):e[o]=i},{allOwnKeys:s}),e),Ss=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ws=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vs=(e,t,n,s)=>{let i,o,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!s||s(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&ft(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_s=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Es=e=>{if(!e)return null;if(le(e))return e;let t=e.length;if(!pr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ts=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ft(Uint8Array)),Rs=(e,t)=>{const s=(e&&e[Ve]).call(e);let i;for(;(i=s.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Cs=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Ps=J("HTMLFormElement"),Os=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),_t=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ks=J("RegExp"),xr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};_e(n,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(s[o]=a||i)}),Object.defineProperties(e,s)},As=e=>{xr(e,(t,n)=>{if(B(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(B(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ds=(e,t)=>{const n={},s=i=>{i.forEach(o=>{n[o]=!0})};return le(e)?s(e):s(String(e).split(t)),n},Is=()=>{},Ns=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ls(e){return!!(e&&B(e.append)&&e[ur]==="FormData"&&e[Ve])}const Fs=e=>{const t=new Array(10),n=(s,i)=>{if(ve(s)){if(t.indexOf(s)>=0)return;if(we(s))return s;if(!("toJSON"in s)){t[i]=s;const o=le(s)?[]:{};return _e(s,(a,l)=>{const f=n(a,i+1);!me(f)&&(o[l]=f)}),t[i]=void 0,o}}return s};return n(e,0)},$s=J("AsyncFunction"),Ms=e=>e&&(ve(e)||B(e))&&B(e.then)&&B(e.catch),yr=((e,t)=>e?setImmediate:t?((n,s)=>(te.addEventListener("message",({source:i,data:o})=>{i===te&&o===n&&s.length&&s.shift()()},!1),i=>{s.push(i),te.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",B(te.postMessage)),zs=typeof queueMicrotask<"u"?queueMicrotask.bind(te):typeof process<"u"&&process.nextTick||yr,Bs=e=>e!=null&&B(e[Ve]),u={isArray:le,isArrayBuffer:fr,isBuffer:we,isFormData:ps,isArrayBufferView:ss,isString:is,isNumber:pr,isBoolean:os,isObject:ve,isPlainObject:Ee,isEmptyObject:as,isReadableStream:ms,isRequest:xs,isResponse:ys,isHeaders:gs,isUndefined:me,isDate:ls,isFile:cs,isBlob:ds,isRegExp:ks,isFunction:B,isStream:fs,isURLSearchParams:hs,isTypedArray:Ts,isFileList:us,forEach:_e,merge:st,extend:bs,trim:js,stripBOM:Ss,inherits:ws,toFlatObject:vs,kindOf:Je,kindOfTest:J,endsWith:_s,toArray:Es,forEachEntry:Rs,matchAll:Cs,isHTMLForm:Ps,hasOwnProperty:_t,hasOwnProp:_t,reduceDescriptors:xr,freezeMethods:As,toObjectSet:Ds,toCamelCase:Os,noop:Is,toFiniteNumber:Ns,findKey:hr,global:te,isContextDefined:mr,isSpecCompliantForm:Ls,toJSONObject:Fs,isAsyncFn:$s,isThenable:Ms,setImmediate:yr,asap:zs,isIterable:Bs};function C(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}u.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});const gr=C.prototype,jr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jr[e]={value:e}});Object.defineProperties(C,jr);Object.defineProperty(gr,"isAxiosError",{value:!0});C.from=(e,t,n,s,i,o)=>{const a=Object.create(gr);return u.toFlatObject(e,a,function(f){return f!==Error.prototype},l=>l!=="isAxiosError"),C.call(a,e.message,t,n,s,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Us=null;function it(e){return u.isPlainObject(e)||u.isArray(e)}function br(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function Et(e,t,n){return e?e.concat(t).map(function(i,o){return i=br(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function qs(e){return u.isArray(e)&&!e.some(it)}const Hs=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function We(e,t,n){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=u.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,h){return!u.isUndefined(h[g])});const s=n.metaTokens,i=n.visitor||p,o=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(u.isDate(m))return m.toISOString();if(u.isBoolean(m))return m.toString();if(!f&&u.isBlob(m))throw new C("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(m)||u.isTypedArray(m)?f&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,g,h){let y=m;if(m&&!h&&typeof m=="object"){if(u.endsWith(g,"{}"))g=s?g:g.slice(0,-2),m=JSON.stringify(m);else if(u.isArray(m)&&qs(m)||(u.isFileList(m)||u.endsWith(g,"[]"))&&(y=u.toArray(m)))return g=br(g),y.forEach(function(j,_){!(u.isUndefined(j)||j===null)&&t.append(a===!0?Et([g],_,o):a===null?g:g+"[]",c(j))}),!1}return it(m)?!0:(t.append(Et(h,g,o),c(m)),!1)}const x=[],S=Object.assign(Hs,{defaultVisitor:p,convertValue:c,isVisitable:it});function E(m,g){if(!u.isUndefined(m)){if(x.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));x.push(m),u.forEach(m,function(y,d){(!(u.isUndefined(y)||y===null)&&i.call(t,y,u.isString(d)?d.trim():d,g,S))===!0&&E(y,g?g.concat(d):[d])}),x.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return E(e),t}function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function pt(e,t){this._pairs=[],e&&We(e,this,t)}const Sr=pt.prototype;Sr.append=function(t,n){this._pairs.push([t,n])};Sr.toString=function(t){const n=t?function(s){return t.call(this,s,Tt)}:Tt;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Vs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wr(e,t,n){if(!t)return e;const s=n&&n.encode||Vs;u.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=u.isURLSearchParams(t)?t.toString():new pt(t,n).toString(s),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Js{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Rt=Js,vr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ys=typeof URLSearchParams<"u"?URLSearchParams:pt,Ws=typeof FormData<"u"?FormData:null,Ks=typeof Blob<"u"?Blob:null,Xs={isBrowser:!0,classes:{URLSearchParams:Ys,FormData:Ws,Blob:Ks},protocols:["http","https","file","blob","url","data"]},ht=typeof window<"u"&&typeof document<"u",ot=typeof navigator=="object"&&navigator||void 0,Gs=ht&&(!ot||["ReactNative","NativeScript","NS"].indexOf(ot.product)<0),Qs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Zs=ht&&window.location.href||"http://localhost",ei=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ht,hasStandardBrowserEnv:Gs,hasStandardBrowserWebWorkerEnv:Qs,navigator:ot,origin:Zs},Symbol.toStringTag,{value:"Module"})),M={...ei,...Xs};function ti(e,t){return We(e,new M.classes.URLSearchParams,{visitor:function(n,s,i,o){return M.isNode&&u.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function ri(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ni(e){const t={},n=Object.keys(e);let s;const i=n.length;let o;for(s=0;s<i;s++)o=n[s],t[o]=e[o];return t}function _r(e){function t(n,s,i,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),f=o>=n.length;return a=!a&&u.isArray(i)?i.length:a,f?(u.hasOwnProp(i,a)?i[a]=[i[a],s]:i[a]=s,!l):((!i[a]||!u.isObject(i[a]))&&(i[a]=[]),t(n,s,i[a],o)&&u.isArray(i[a])&&(i[a]=ni(i[a])),!l)}if(u.isFormData(e)&&u.isFunction(e.entries)){const n={};return u.forEachEntry(e,(s,i)=>{t(ri(s),i,n,0)}),n}return null}function si(e,t,n){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const mt={transitional:vr,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,o=u.isObject(t);if(o&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return i?JSON.stringify(_r(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t)||u.isReadableStream(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ti(t,this.formSerializer).toString();if((l=u.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return We(l?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),si(t)):t}],transformResponse:[function(t){const n=this.transitional||mt.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(u.isResponse(t)||u.isReadableStream(t))return t;if(t&&u.isString(t)&&(s&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?C.from(l,C.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M.classes.FormData,Blob:M.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],e=>{mt.headers[e]={}});const xt=mt,ii=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oi=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),s=a.substring(i+1).trim(),!(!n||t[n]&&ii[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ct=Symbol("internals");function de(e){return e&&String(e).trim().toLowerCase()}function Te(e){return e===!1||e==null?e:u.isArray(e)?e.map(Te):String(e)}function ai(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const li=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ze(e,t,n,s,i){if(u.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!u.isString(t)){if(u.isString(s))return t.indexOf(s)!==-1;if(u.isRegExp(s))return s.test(t)}}function ci(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function di(e,t){const n=u.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,o,a){return this[s].call(this,t,i,o,a)},configurable:!0})})}class Ke{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function o(l,f,c){const p=de(f);if(!p)throw new Error("header name must be a non-empty string");const x=u.findKey(i,p);(!x||i[x]===void 0||c===!0||c===void 0&&i[x]!==!1)&&(i[x||f]=Te(l))}const a=(l,f)=>u.forEach(l,(c,p)=>o(c,p,f));if(u.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(u.isString(t)&&(t=t.trim())&&!li(t))a(oi(t),n);else if(u.isObject(t)&&u.isIterable(t)){let l={},f,c;for(const p of t){if(!u.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[c=p[0]]=(f=l[c])?u.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}a(l,n)}else t!=null&&o(n,t,s);return this}get(t,n){if(t=de(t),t){const s=u.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return ai(i);if(u.isFunction(n))return n.call(this,i,s);if(u.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=de(t),t){const s=u.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ze(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function o(a){if(a=de(a),a){const l=u.findKey(s,a);l&&(!n||Ze(s,s[l],l,n))&&(delete s[l],i=!0)}}return u.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const o=n[s];(!t||Ze(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,s={};return u.forEach(this,(i,o)=>{const a=u.findKey(s,o);if(a){n[a]=Te(i),delete n[o];return}const l=t?ci(o):String(o).trim();l!==o&&delete n[o],n[l]=Te(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return u.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&u.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Ct]=this[Ct]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=de(a);s[l]||(di(i,a),s[l]=!0)}return u.isArray(t)?t.forEach(o):o(t),this}}Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(Ke.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});u.freezeMethods(Ke);const V=Ke;function et(e,t){const n=this||xt,s=t||n,i=V.from(s.headers);let o=s.data;return u.forEach(e,function(l){o=l.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function Er(e){return!!(e&&e.__CANCEL__)}function ce(e,t,n){C.call(this,e??"canceled",C.ERR_CANCELED,t,n),this.name="CanceledError"}u.inherits(ce,C,{__CANCEL__:!0});function Tr(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new C("Request failed with status code "+n.status,[C.ERR_BAD_REQUEST,C.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ui(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fi(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(f){const c=Date.now(),p=s[o];a||(a=c),n[i]=f,s[i]=c;let x=o,S=0;for(;x!==i;)S+=n[x++],x=x%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-a<t)return;const E=p&&c-p;return E?Math.round(S*1e3/E):void 0}}function pi(e,t){let n=0,s=1e3/t,i,o;const a=(c,p=Date.now())=>{n=p,i=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const p=Date.now(),x=p-n;x>=s?a(c,p):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},s-x)))},()=>i&&a(i)]}const Pe=(e,t,n=3)=>{let s=0;const i=fi(50,250);return pi(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,f=a-s,c=i(f),p=a<=l;s=a;const x={loaded:a,total:l,progress:l?a/l:void 0,bytes:f,rate:c||void 0,estimated:c&&l&&p?(l-a)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(x)},n)},Pt=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ot=e=>(...t)=>u.asap(()=>e(...t)),hi=M.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,M.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(M.origin),M.navigator&&/(msie|trident)/i.test(M.navigator.userAgent)):()=>!0,mi=M.hasStandardBrowserEnv?{write(e,t,n,s,i,o){const a=[e+"="+encodeURIComponent(t)];u.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),u.isString(s)&&a.push("path="+s),u.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xi(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yi(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Rr(e,t,n){let s=!xi(t);return e&&(s||n==!1)?yi(e,t):t}const kt=e=>e instanceof V?{...e}:e;function re(e,t){t=t||{};const n={};function s(c,p,x,S){return u.isPlainObject(c)&&u.isPlainObject(p)?u.merge.call({caseless:S},c,p):u.isPlainObject(p)?u.merge({},p):u.isArray(p)?p.slice():p}function i(c,p,x,S){if(u.isUndefined(p)){if(!u.isUndefined(c))return s(void 0,c,x,S)}else return s(c,p,x,S)}function o(c,p){if(!u.isUndefined(p))return s(void 0,p)}function a(c,p){if(u.isUndefined(p)){if(!u.isUndefined(c))return s(void 0,c)}else return s(void 0,p)}function l(c,p,x){if(x in t)return s(c,p);if(x in e)return s(void 0,c)}const f={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,p,x)=>i(kt(c),kt(p),x,!0)};return u.forEach(Object.keys({...e,...t}),function(p){const x=f[p]||i,S=x(e[p],t[p],p);u.isUndefined(S)&&x!==l||(n[p]=S)}),n}const Cr=e=>{const t=re({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=V.from(a),t.url=wr(Rr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let f;if(u.isFormData(n)){if(M.hasStandardBrowserEnv||M.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((f=a.getContentType())!==!1){const[c,...p]=f?f.split(";").map(x=>x.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...p].join("; "))}}if(M.hasStandardBrowserEnv&&(s&&u.isFunction(s)&&(s=s(t)),s||s!==!1&&hi(t.url))){const c=i&&o&&mi.read(o);c&&a.set(i,c)}return t},gi=typeof XMLHttpRequest<"u",ji=gi&&function(e){return new Promise(function(n,s){const i=Cr(e);let o=i.data;const a=V.from(i.headers).normalize();let{responseType:l,onUploadProgress:f,onDownloadProgress:c}=i,p,x,S,E,m;function g(){E&&E(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let h=new XMLHttpRequest;h.open(i.method.toUpperCase(),i.url,!0),h.timeout=i.timeout;function y(){if(!h)return;const j=V.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:j,config:e,request:h};Tr(function($){n($),g()},function($){s($),g()},R),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(s(new C("Request aborted",C.ECONNABORTED,e,h)),h=null)},h.onerror=function(){s(new C("Network Error",C.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||vr;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),s(new C(_,R.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,e,h)),h=null},o===void 0&&a.setContentType(null),"setRequestHeader"in h&&u.forEach(a.toJSON(),function(_,R){h.setRequestHeader(R,_)}),u.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),l&&l!=="json"&&(h.responseType=i.responseType),c&&([S,m]=Pe(c,!0),h.addEventListener("progress",S)),f&&h.upload&&([x,E]=Pe(f),h.upload.addEventListener("progress",x),h.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(p=j=>{h&&(s(!j||j.type?new ce(null,e,h):j),h.abort(),h=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const d=ui(i.url);if(d&&M.protocols.indexOf(d)===-1){s(new C("Unsupported protocol "+d+":",C.ERR_BAD_REQUEST,e));return}h.send(o||null)})},bi=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const o=function(c){if(!i){i=!0,l();const p=c instanceof Error?c:this.reason;s.abort(p instanceof C?p:new ce(p instanceof Error?p.message:p))}};let a=t&&setTimeout(()=>{a=null,o(new C(`timeout ${t} of ms exceeded`,C.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:f}=s;return f.unsubscribe=()=>u.asap(l),f}},Si=bi,wi=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},vi=async function*(e,t){for await(const n of _i(e))yield*wi(n,t)},_i=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},At=(e,t,n,s)=>{const i=vi(e,t);let o=0,a,l=f=>{a||(a=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:c,value:p}=await i.next();if(c){l(),f.close();return}let x=p.byteLength;if(n){let S=o+=x;n(S)}f.enqueue(new Uint8Array(p))}catch(c){throw l(c),c}},cancel(f){return l(f),i.return()}},{highWaterMark:2})},Xe=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pr=Xe&&typeof ReadableStream=="function",Ei=Xe&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Or=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ti=Pr&&Or(()=>{let e=!1;const t=new Request(M.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Dt=64*1024,at=Pr&&Or(()=>u.isReadableStream(new Response("").body)),Oe={stream:at&&(e=>e.body)};Xe&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Oe[t]&&(Oe[t]=u.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new C(`Response type '${t}' is not supported`,C.ERR_NOT_SUPPORT,s)})})})(new Response);const Ri=async e=>{if(e==null)return 0;if(u.isBlob(e))return e.size;if(u.isSpecCompliantForm(e))return(await new Request(M.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(u.isArrayBufferView(e)||u.isArrayBuffer(e))return e.byteLength;if(u.isURLSearchParams(e)&&(e=e+""),u.isString(e))return(await Ei(e)).byteLength},Ci=async(e,t)=>{const n=u.toFiniteNumber(e.getContentLength());return n??Ri(t)},Pi=Xe&&(async e=>{let{url:t,method:n,data:s,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:f,responseType:c,headers:p,withCredentials:x="same-origin",fetchOptions:S}=Cr(e);c=c?(c+"").toLowerCase():"text";let E=Si([i,o&&o.toAbortSignal()],a),m;const g=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let h;try{if(f&&Ti&&n!=="get"&&n!=="head"&&(h=await Ci(p,s))!==0){let R=new Request(t,{method:"POST",body:s,duplex:"half"}),F;if(u.isFormData(s)&&(F=R.headers.get("content-type"))&&p.setContentType(F),R.body){const[$,w]=Pt(h,Pe(Ot(f)));s=At(R.body,Dt,$,w)}}u.isString(x)||(x=x?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...S,signal:E,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:y?x:void 0});let d=await fetch(m,S);const j=at&&(c==="stream"||c==="response");if(at&&(l||j&&g)){const R={};["status","statusText","headers"].forEach(k=>{R[k]=d[k]});const F=u.toFiniteNumber(d.headers.get("content-length")),[$,w]=l&&Pt(F,Pe(Ot(l),!0))||[];d=new Response(At(d.body,Dt,$,()=>{w&&w(),g&&g()}),R)}c=c||"text";let _=await Oe[u.findKey(Oe,c)||"text"](d,e);return!j&&g&&g(),await new Promise((R,F)=>{Tr(R,F,{data:_,headers:V.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:m})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new C("Network Error",C.ERR_NETWORK,e,m),{cause:y.cause||y}):C.from(y,y&&y.code,e,m)}}),lt={http:Us,xhr:ji,fetch:Pi};u.forEach(lt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const It=e=>`- ${e}`,Oi=e=>u.isFunction(e)||e===null||e===!1,kr={getAdapter:e=>{e=u.isArray(e)?e:[e];const{length:t}=e;let n,s;const i={};for(let o=0;o<t;o++){n=e[o];let a;if(s=n,!Oi(n)&&(s=lt[(a=String(n)).toLowerCase()],s===void 0))throw new C(`Unknown adapter '${a}'`);if(s)break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,f])=>`adapter ${l} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(It).join(`
`):" "+It(o[0]):"as no adapter specified";throw new C("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:lt};function tt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ce(null,e)}function Nt(e){return tt(e),e.headers=V.from(e.headers),e.data=et.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kr.getAdapter(e.adapter||xt.adapter)(e).then(function(s){return tt(e),s.data=et.call(e,e.transformResponse,s),s.headers=V.from(s.headers),s},function(s){return Er(s)||(tt(e),s&&s.response&&(s.response.data=et.call(e,e.transformResponse,s.response),s.response.headers=V.from(s.response.headers))),Promise.reject(s)})}const Ar="1.11.0",Ge={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ge[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Lt={};Ge.transitional=function(t,n,s){function i(o,a){return"[Axios v"+Ar+"] Transitional option '"+o+"'"+a+(s?". "+s:"")}return(o,a,l)=>{if(t===!1)throw new C(i(a," has been removed"+(n?" in "+n:"")),C.ERR_DEPRECATED);return n&&!Lt[a]&&(Lt[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,l):!0}};Ge.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function ki(e,t,n){if(typeof e!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const o=s[i],a=t[o];if(a){const l=e[o],f=l===void 0||a(l,o,e);if(f!==!0)throw new C("option "+o+" must be "+f,C.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new C("Unknown option "+o,C.ERR_BAD_OPTION)}}const Re={assertOptions:ki,validators:Ge},Y=Re.validators;class ke{constructor(t){this.defaults=t||{},this.interceptors={request:new Rt,response:new Rt}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=re(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:o}=n;s!==void 0&&Re.assertOptions(s,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1),i!=null&&(u.isFunction(i)?n.paramsSerializer={serialize:i}:Re.assertOptions(i,{encode:Y.function,serialize:Y.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Re.assertOptions(n,{baseUrl:Y.spelling("baseURL"),withXsrfToken:Y.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&u.merge(o.common,o[n.method]);o&&u.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=V.concat(a,o);const l=[];let f=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(f=f&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let p,x=0,S;if(!f){const m=[Nt.bind(this),void 0];for(m.unshift(...l),m.push(...c),S=m.length,p=Promise.resolve(n);x<S;)p=p.then(m[x++],m[x++]);return p}S=l.length;let E=n;for(x=0;x<S;){const m=l[x++],g=l[x++];try{E=m(E)}catch(h){g.call(this,h);break}}try{p=Nt.call(this,E)}catch(m){return Promise.reject(m)}for(x=0,S=c.length;x<S;)p=p.then(c[x++],c[x++]);return p}getUri(t){t=re(this.defaults,t);const n=Rr(t.baseURL,t.url,t.allowAbsoluteUrls);return wr(n,t.params,t.paramsSerializer)}}u.forEach(["delete","get","head","options"],function(t){ke.prototype[t]=function(n,s){return this.request(re(s||{},{method:t,url:n,data:(s||{}).data}))}});u.forEach(["post","put","patch"],function(t){function n(s){return function(o,a,l){return this.request(re(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ke.prototype[t]=n(),ke.prototype[t+"Form"]=n(!0)});const Ce=ke;class yt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{s.subscribe(l),o=l}).then(i);return a.cancel=function(){s.unsubscribe(o)},a},t(function(o,a,l){s.reason||(s.reason=new ce(o,a,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new yt(function(i){t=i}),cancel:t}}}const Ai=yt;function Di(e){return function(n){return e.apply(null,n)}}function Ii(e){return u.isObject(e)&&e.isAxiosError===!0}const ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ct).forEach(([e,t])=>{ct[t]=e});const Ni=ct;function Dr(e){const t=new Ce(e),n=dr(Ce.prototype.request,t);return u.extend(n,Ce.prototype,t,{allOwnKeys:!0}),u.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Dr(re(e,i))},n}const L=Dr(xt);L.Axios=Ce;L.CanceledError=ce;L.CancelToken=Ai;L.isCancel=Er;L.VERSION=Ar;L.toFormData=We;L.AxiosError=C;L.Cancel=L.CanceledError;L.all=function(t){return Promise.all(t)};L.spread=Di;L.isAxiosError=Ii;L.mergeConfig=re;L.AxiosHeaders=V;L.formToJSON=e=>_r(u.isHTMLForm(e)?new FormData(e):e);L.getAdapter=kr.getAdapter;L.HttpStatusCode=Ni;L.default=L;const Li=L,Fi=()=>{const e=window.location.protocol,t=window.location.host;return{}.VITE_API_BASE_URL?{}.VITE_API_BASE_URL:`${e}//${t}`},P=Li.create({baseURL:Fi(),timeout:1e4});P.interceptors.request.use(e=>e,e=>Promise.reject(e));P.interceptors.response.use(e=>e,e=>{if(e.response){const{status:t,data:n}=e.response;switch(t){case 401:v.error("未授权，请重新登录"),localStorage.removeItem("auth-storage"),window.location.href="/login";break;case 403:v.error("权限不足");break;case 404:v.error("请求的资源不存在");break;case 500:v.error("服务器内部错误");break;default:v.error((n==null?void 0:n.error)||"请求失败")}}else e.request?v.error("网络错误，请检查网络连接"):v.error("请求失败");return Promise.reject(e)});const ee=Gn()(rs((e,t)=>({user:null,token:null,isLoading:!1,redirectPath:null,login:async(n,s)=>{e({isLoading:!0});try{const i=await P.post("/api/login",{email:n,password:s}),{token:o,user:a}=i.data,{redirectPath:l}=t();e({user:a,token:o,isLoading:!1}),P.defaults.headers.common.Authorization=`Bearer ${o}`,l?(e({redirectPath:null}),window.location.href=l):window.location.href="/"}catch(i){throw e({isLoading:!1}),i}},register:async(n,s,i,o)=>{e({isLoading:!0});try{const a={email:n,password:s,confirm_password:i};o&&(a.nickname=o),await P.post("/api/register",a),e({isLoading:!1})}catch(a){throw e({isLoading:!1}),a}},logout:()=>{e({user:null,token:null,redirectPath:null}),delete P.defaults.headers.common.Authorization,window.location.href="/login"},setRedirectPath:n=>{e({redirectPath:n})},initAuth:()=>{const{token:n}=t();n&&(P.defaults.headers.common.Authorization=`Bearer ${n}`)}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,redirectPath:e.redirectPath})})),{Header:$i,Sider:Mi,Content:zi}=ie,Bi=()=>{const e=Ae(),t=dt(),{user:n,logout:s}=ee(),[i,o]=T.useState(!1),[a,l]=T.useState(!1),f=[{key:"/",icon:r.jsx(Jt,{}),label:"仪表盘"},{key:"/dns-records",icon:r.jsx(De,{}),label:"DNS记录"},{key:"/profile",icon:r.jsx(H,{}),label:"个人资料"}],c=[{key:"profile",icon:r.jsx(H,{}),label:"个人资料",onClick:()=>e("/profile")},...n!=null&&n.is_admin?[{key:"admin",icon:r.jsx(ut,{}),label:"管理后台",onClick:()=>e("/admin")}]:[],{type:"divider"},{key:"logout",icon:r.jsx(Bt,{}),label:"退出登录",onClick:s}];return r.jsxs(ie,{style:{minHeight:"100vh"},children:[r.jsxs(Mi,{collapsible:!0,collapsed:i,onCollapse:o,breakpoint:"lg",onBreakpoint:l,collapsedWidth:"0",trigger:null,width:250,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0,zIndex:10},children:[r.jsx("div",{style:{height:32,margin:16,background:"rgba(255, 255, 255, 0.3)",borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:16,fontWeight:"bold"},children:a||!i?"域名管理系统":"DM"}),r.jsx(Ut,{theme:"dark",mode:"inline",selectedKeys:[t.pathname],items:f,onClick:({key:p})=>e(p)})]}),r.jsxs(ie,{style:{marginLeft:a?0:i?80:250,transition:"margin-left 0.2s"},children:[r.jsxs($i,{style:{padding:"0 24px",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(A,{type:"text",icon:r.jsx(qt,{}),onClick:()=>o(!i),style:{fontSize:"16px"}}),r.jsx("div",{style:{flexGrow:1}}),r.jsx(Ht,{menu:{items:c},placement:"bottomRight",children:r.jsxs(X,{style:{cursor:"pointer"},children:[r.jsx(Vt,{icon:r.jsx(H,{})}),r.jsx("span",{children:n==null?void 0:n.email})]})})]}),r.jsx(zi,{style:{margin:"24px 16px 0",overflow:"initial"},children:r.jsx("div",{style:{padding:24,minHeight:360,background:"#fff",borderRadius:8},children:r.jsx(zt,{})})})]})]})},Ft=({children:e,adminOnly:t=!1})=>{const{user:n,setRedirectPath:s}=ee(),i=dt();return T.useEffect(()=>{n||s(i.pathname+i.search)},[n,i.pathname,i.search,s]),n?t&&!n.is_admin?r.jsx(ue,{to:"/",replace:!0}):!n.is_active&&!n.is_admin?r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"0 16px"},children:r.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"40px",maxWidth:"500px",textAlign:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"📧"}),r.jsx("h2",{style:{color:"#ff4d4f",marginBottom:"16px"},children:"账户未激活"}),r.jsx("p",{style:{color:"#666",marginBottom:"24px",lineHeight:1.6},children:"您的账户尚未激活，请检查您的邮箱并点击激活链接。"}),r.jsx("p",{style:{color:"#999",fontSize:"14px",marginBottom:"24px"},children:"没有收到邮件？请检查垃圾邮件文件夹，或联系管理员重新发送激活邮件。"}),r.jsx("button",{onClick:()=>{ee.getState().logout()},style:{background:"#1890ff",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"重新登录"})]})}):r.jsx(r.Fragment,{children:e}):r.jsx(ue,{to:"/login",replace:!0})},Ui=()=>{const[e]=b.useForm(),{login:t,isLoading:n}=ee(),s=async i=>{var o,a;try{await t(i.email,i.password),v.success("登录成功")}catch(l){v.error(((a=(o=l.response)==null?void 0:o.data)==null?void 0:a.error)||"登录失败")}};return r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"0 16px"},children:r.jsxs(D,{style:{width:"100%",maxWidth:400,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[r.jsx("h1",{style:{fontSize:24,margin:0,color:"#1890ff"},children:"域名管理系统"}),r.jsx("p",{style:{color:"#666",marginTop:8},children:"请登录您的账户"})]}),r.jsxs(b,{form:e,name:"login",onFinish:s,layout:"vertical",size:"large",children:[r.jsx(b.Item,{name:"email",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入有效的邮箱地址"}],children:r.jsx(O,{prefix:r.jsx(H,{}),placeholder:"邮箱地址"})}),r.jsx(b.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"密码"})}),r.jsx(b.Item,{children:r.jsx(A,{type:"primary",htmlType:"submit",loading:n,style:{width:"100%"},children:"登录"})})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{marginBottom:"8px"},children:r.jsx(fe,{to:"/forgot-password",children:"忘记密码？"})}),r.jsxs("div",{children:[r.jsx("span",{children:"还没有账户？ "}),r.jsx(fe,{to:"/register",children:"立即注册"})]})]})]})})},qi=()=>{const[e]=b.useForm(),t=Ae(),{register:n,isLoading:s}=ee(),i=async a=>{var l,f;try{await n(a.email,a.password,a.confirmPassword,a.nickname),v.success("注册成功，请检查邮箱激活账户"),t("/login")}catch(c){v.error(((f=(l=c.response)==null?void 0:l.data)==null?void 0:f.error)||"注册失败")}},o=(a,l)=>l?l.length<8?Promise.reject(new Error("密码长度至少8位")):l.length>100?Promise.reject(new Error("密码长度不能超过100位")):/[a-zA-Z]/.test(l)?/[0-9]/.test(l)?l.length<12&&!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(l)?Promise.reject(new Error("密码长度小于12位时必须包含特殊字符")):Promise.resolve():Promise.reject(new Error("密码必须包含数字")):Promise.reject(new Error("密码必须包含字母")):Promise.reject(new Error("请输入密码"));return r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"0 16px"},children:r.jsxs(D,{style:{width:"100%",maxWidth:400,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[r.jsx("h1",{style:{fontSize:24,margin:0,color:"#1890ff"},children:"域名管理系统"}),r.jsx("p",{style:{color:"#666",marginTop:8},children:"创建您的账户"})]}),r.jsxs(b,{form:e,name:"register",onFinish:i,layout:"vertical",size:"large",children:[r.jsx(b.Item,{label:"邮箱地址",name:"email",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入有效的邮箱地址"},{max:255,message:"邮箱长度不能超过255位"}],children:r.jsx(O,{prefix:r.jsx(Ie,{}),placeholder:"请输入邮箱地址"})}),r.jsx(b.Item,{label:"昵称（可选）",name:"nickname",rules:[{max:100,message:"昵称长度不能超过100位"}],children:r.jsx(O,{prefix:r.jsx(H,{}),placeholder:"请输入昵称（可选）"})}),r.jsx(b.Item,{label:r.jsxs("span",{children:["密码 ",r.jsx(Yt,{title:r.jsxs("div",{children:[r.jsx("div",{children:"• 长度至少8位，最多100位"}),r.jsx("div",{children:"• 必须包含字母和数字"}),r.jsx("div",{children:"• 长度小于12位时必须包含特殊字符"})]}),children:r.jsx(zr,{style:{color:"#1890ff"}})})]}),name:"password",rules:[{validator:o}],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请输入密码"})}),r.jsx(b.Item,{label:"确认密码",name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"请确认密码"},({getFieldValue:a})=>({validator(l,f){return!f||a("password")===f?Promise.resolve():Promise.reject(new Error("两次输入的密码不一致"))}})],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请再次输入密码"})}),r.jsx(b.Item,{children:r.jsx(A,{type:"primary",htmlType:"submit",loading:s,style:{width:"100%"},children:"注册"})})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("span",{children:"已有账户？ "}),r.jsx(fe,{to:"/login",children:"立即登录"})]})]})})},Hi=()=>{const[e]=b.useForm(),[t,n]=T.useState(!1),[s]=Lr(),i=Ae(),o=s.get("token");if(!o)return v.error("重置链接无效"),i("/login"),null;const a=async l=>{var f,c;if(l.password!==l.confirmPassword){v.error("两次输入的密码不一致");return}n(!0);try{await P.post("/api/reset-password",{token:o,password:l.password}),v.success("密码重置成功，请使用新密码登录"),i("/login")}catch(p){v.error(((c=(f=p.response)==null?void 0:f.data)==null?void 0:c.error)||"密码重置失败")}finally{n(!1)}};return r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"0 16px"},children:r.jsxs(D,{style:{width:"100%",maxWidth:400,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[r.jsx("h1",{style:{fontSize:24,margin:0,color:"#ff4d4f"},children:"🔐 重置密码"}),r.jsx("p",{style:{color:"#666",marginTop:8},children:"请设置您的新密码"})]}),r.jsxs(b,{form:e,name:"reset-password",onFinish:a,layout:"vertical",size:"large",children:[r.jsx(b.Item,{name:"password",label:"新密码",rules:[{required:!0,message:"请输入新密码"},{min:6,message:"密码长度至少6位"}],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请输入新密码（至少6位）"})}),r.jsx(b.Item,{name:"confirmPassword",label:"确认密码",rules:[{required:!0,message:"请再次输入新密码"},({getFieldValue:l})=>({validator(f,c){return!c||l("password")===c?Promise.resolve():Promise.reject(new Error("两次输入的密码不一致"))}})],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请再次输入新密码"})}),r.jsx(b.Item,{children:r.jsx(A,{type:"primary",htmlType:"submit",loading:t,style:{width:"100%"},children:"重置密码"})})]}),r.jsx("div",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:r.jsx("p",{children:"重置密码后，您需要使用新密码重新登录"})})]})})},Vi=()=>{const[e]=b.useForm(),[t,n]=T.useState(!1),[s,i]=T.useState(!1),o=async a=>{var l,f;n(!0);try{await P.post("/api/forgot-password",{email:a.email}),i(!0),v.success("如果该邮箱存在，重置链接已发送")}catch(c){v.error(((f=(l=c.response)==null?void 0:l.data)==null?void 0:f.error)||"发送失败")}finally{n(!1)}};return s?r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"0 16px"},children:r.jsx(D,{style:{width:"100%",maxWidth:400,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",textAlign:"center"},children:r.jsxs("div",{style:{padding:"20px 0"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"📧"}),r.jsx("h2",{style:{color:"#1890ff",marginBottom:"16px"},children:"邮件已发送"}),r.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"如果该邮箱存在于我们的系统中，您将收到一封包含密码重置链接的邮件。"}),r.jsx("p",{style:{color:"#999",fontSize:"14px",marginBottom:"24px"},children:"没有收到邮件？请检查垃圾邮件文件夹，或等待几分钟后重试。"}),r.jsx(A,{type:"primary",icon:r.jsx(gt,{}),onClick:()=>i(!1),children:"返回重新发送"}),r.jsx("div",{style:{marginTop:"16px"},children:r.jsx(fe,{to:"/login",children:"返回登录"})})]})})}):r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"0 16px"},children:r.jsxs(D,{style:{width:"100%",maxWidth:400,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[r.jsx("h1",{style:{fontSize:24,margin:0,color:"#1890ff"},children:"🔑 找回密码"}),r.jsx("p",{style:{color:"#666",marginTop:8},children:"输入您的邮箱地址，我们将发送重置链接"})]}),r.jsxs(b,{form:e,name:"forgot-password",onFinish:o,layout:"vertical",size:"large",children:[r.jsx(b.Item,{name:"email",label:"邮箱地址",rules:[{required:!0,message:"请输入邮箱地址"},{type:"email",message:"请输入有效的邮箱地址"}],children:r.jsx(O,{prefix:r.jsx(Ie,{}),placeholder:"请输入您的注册邮箱"})}),r.jsx(b.Item,{children:r.jsx(A,{type:"primary",htmlType:"submit",loading:t,style:{width:"100%"},children:"发送重置链接"})})]}),r.jsx("div",{style:{textAlign:"center"},children:r.jsxs(fe,{to:"/login",children:[r.jsx(gt,{})," 返回登录"]})})]})})},{Title:Ji}=ne,Yi=()=>{const[e,t]=T.useState(null),[n,s]=T.useState(!0);T.useEffect(()=>{i()},[]);const i=async()=>{try{const a=(await P.get("/api/dns-records")).data.records||[],f=(await P.get("/api/domains")).data.domains||[],c={totalRecords:a.length,activeRecords:a.filter(p=>p.status==="active").length,availableDomains:f.length,recentActivity:a.filter(p=>{const x=new Date(p.created_at),S=new Date(Date.now()-7*24*60*60*1e3);return x>S}).length};t(c)}catch(o){console.error("获取统计数据失败:",o)}finally{s(!1)}};return n?r.jsx("div",{style:{textAlign:"center",padding:"50px"},children:r.jsx(Wt,{size:"large"})}):r.jsxs("div",{children:[r.jsx(Ji,{level:2,style:{marginBottom:32},children:"仪表盘"}),r.jsxs(G,{gutter:[16,16],children:[r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsx(D,{children:r.jsx(Q,{title:"总DNS记录",value:(e==null?void 0:e.totalRecords)||0,prefix:r.jsx(De,{}),valueStyle:{color:"#1890ff"}})})}),r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsx(D,{children:r.jsx(Q,{title:"活跃记录",value:(e==null?void 0:e.activeRecords)||0,prefix:r.jsx(Br,{}),valueStyle:{color:"#52c41a"}})})}),r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsx(D,{children:r.jsx(Q,{title:"可用域名",value:(e==null?void 0:e.availableDomains)||0,prefix:r.jsx(H,{}),valueStyle:{color:"#722ed1"}})})}),r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsx(D,{children:r.jsx(Q,{title:"本周活动",value:(e==null?void 0:e.recentActivity)||0,prefix:r.jsx(Ur,{}),valueStyle:{color:"#fa8c16"}})})})]}),r.jsxs(G,{gutter:[16,16],style:{marginTop:24},children:[r.jsx(N,{xs:24,lg:12,children:r.jsx(D,{title:"快速操作",style:{height:300},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",padding:"20px 0"},children:[r.jsxs("div",{children:[r.jsx("h4",{children:"管理DNS记录"}),r.jsx("p",{style:{color:"#666"},children:"添加、编辑或删除您的DNS记录"})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"查看域名"}),r.jsx("p",{style:{color:"#666"},children:"浏览所有可用的域名选项"})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"更新资料"}),r.jsx("p",{style:{color:"#666"},children:"修改您的个人账户信息"})]})]})})}),r.jsx(N,{xs:24,lg:12,children:r.jsx(D,{title:"系统状态",style:{height:300},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",padding:"20px 0"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"DNS服务"}),r.jsx("span",{style:{color:"#52c41a"},children:"正常"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"API服务"}),r.jsx("span",{style:{color:"#52c41a"},children:"正常"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"数据库"}),r.jsx("span",{style:{color:"#52c41a"},children:"正常"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{children:"邮件服务"}),r.jsx("span",{style:{color:"#fa8c16"},children:"维护中"})]})]})})})]})]})},{Title:Wi}=ne,{Option:q}=se,Ki=()=>{const[e,t]=T.useState([]),[n,s]=T.useState([]),[i,o]=T.useState(!1),[a,l]=T.useState(!1),[f,c]=T.useState(null),[p]=b.useForm();T.useEffect(()=>{x(),S()},[]);const x=async()=>{o(!0);try{const d=await P.get("/api/dns-records");t(d.data.records||[])}catch{v.error("获取DNS记录失败")}finally{o(!1)}},S=async()=>{try{const d=await P.get("/api/domains");s(d.data.domains||[])}catch{v.error("获取域名列表失败")}},E=()=>{c(null),p.resetFields(),l(!0)},m=d=>{c(d),p.setFieldsValue({domain_id:d.domain.id,subdomain:d.subdomain,type:d.type,value:d.value,ttl:d.ttl}),l(!0)},g=async d=>{try{await P.delete(`/api/dns-records/${d}`),v.success("DNS记录删除成功"),x()}catch{v.error("删除失败")}},h=async d=>{var j,_;try{f?(await P.put(`/api/dns-records/${f.id}`,d),v.success("DNS记录更新成功")):(await P.post("/api/dns-records",d),v.success("DNS记录创建成功")),l(!1),x()}catch(R){v.error(((_=(j=R.response)==null?void 0:j.data)==null?void 0:_.error)||"操作失败")}},y=[{title:"子域名",dataIndex:"subdomain",key:"subdomain",render:(d,j)=>r.jsxs("strong",{children:[d,".",j.domain.name]})},{title:"类型",dataIndex:"type",key:"type",render:d=>r.jsx(W,{color:d==="A"?"blue":d==="CNAME"?"green":d==="TXT"?"orange":"default",children:d})},{title:"记录值",dataIndex:"value",key:"value",ellipsis:!0},{title:"TTL",dataIndex:"ttl",key:"ttl",render:d=>`${d}s`},{title:"创建时间",dataIndex:"created_at",key:"created_at",render:d=>new Date(d).toLocaleString("zh-CN")},{title:"操作",key:"actions",render:(d,j)=>r.jsxs(X,{children:[r.jsx(A,{type:"link",icon:r.jsx(ye,{}),onClick:()=>m(j),children:"编辑"}),r.jsx(ge,{title:"确定要删除这条DNS记录吗？",onConfirm:()=>g(j.id),okText:"确定",cancelText:"取消",children:r.jsx(A,{type:"link",danger:!0,icon:r.jsx(je,{}),children:"删除"})})]})}];return r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[r.jsx(Wi,{level:2,style:{margin:0},children:"DNS记录管理"}),r.jsx(A,{type:"primary",icon:r.jsx(Ne,{}),onClick:E,children:"添加记录"})]}),r.jsx(D,{children:r.jsx(xe,{columns:y,dataSource:e,rowKey:"id",loading:i,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:d=>`共 ${d} 条记录`},scroll:{x:"max-content"}})}),r.jsx(oe,{title:f?"编辑DNS记录":"添加DNS记录",open:a,onCancel:()=>l(!1),onOk:()=>p.submit(),okText:"确定",cancelText:"取消",children:r.jsxs(b,{form:p,layout:"vertical",onFinish:h,children:[r.jsx(b.Item,{name:"domain_id",label:"选择域名",rules:[{required:!0,message:"请选择域名"}],children:r.jsx(se,{placeholder:"选择一个域名",children:n.map(d=>r.jsx(q,{value:d.id,children:d.name},d.id))})}),r.jsx(b.Item,{name:"subdomain",label:"子域名",rules:[{required:!0,message:"请输入子域名"}],children:r.jsx(O,{placeholder:"例如: www, mail, ftp"})}),r.jsx(b.Item,{name:"type",label:"记录类型",rules:[{required:!0,message:"请选择记录类型"}],children:r.jsxs(se,{placeholder:"选择记录类型",children:[r.jsx(q,{value:"A",children:"A"}),r.jsx(q,{value:"CNAME",children:"CNAME"}),r.jsx(q,{value:"TXT",children:"TXT"}),r.jsx(q,{value:"MX",children:"MX"})]})}),r.jsx(b.Item,{name:"value",label:"记录值",rules:[{required:!0,message:"请输入记录值"}],children:r.jsx(O,{placeholder:"例如: 192.168.1.1 或 example.com"})}),r.jsx(b.Item,{name:"ttl",label:"TTL (秒)",initialValue:600,rules:[{required:!0,message:"请输入TTL值"}],children:r.jsxs(se,{children:[r.jsx(q,{value:300,children:"5分钟 (300)"}),r.jsx(q,{value:600,children:"10分钟 (600)"}),r.jsx(q,{value:1800,children:"30分钟 (1800)"}),r.jsx(q,{value:3600,children:"1小时 (3600)"}),r.jsx(q,{value:43200,children:"12小时 (43200)"}),r.jsx(q,{value:86400,children:"1天 (86400)"})]})})]})})]})},{Title:Xi}=ne,Gi=()=>{const{user:e}=ee(),[t,n]=T.useState(!1),[s]=b.useForm(),i=async o=>{var a,l;n(!0);try{await P.put("/api/profile/password",{current_password:o.currentPassword,new_password:o.newPassword}),v.success("密码修改成功"),s.resetFields()}catch(f){v.error(((l=(a=f.response)==null?void 0:a.data)==null?void 0:l.error)||"密码修改失败")}finally{n(!1)}};return r.jsxs("div",{style:{maxWidth:800,margin:"0 auto"},children:[r.jsx(Xi,{level:2,style:{marginBottom:32},children:"个人资料"}),r.jsx(D,{title:"基本信息",style:{marginBottom:24},children:r.jsxs("div",{style:{padding:"16px 0"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[r.jsx(H,{style:{marginRight:8,color:"#1890ff"}}),r.jsx("strong",{children:"用户ID："}),r.jsx("span",{style:{marginLeft:8},children:e==null?void 0:e.id})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[r.jsx(Ie,{style:{marginRight:8,color:"#1890ff"}}),r.jsx("strong",{children:"邮箱地址："}),r.jsx("span",{style:{marginLeft:8},children:e==null?void 0:e.email})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[r.jsx("strong",{children:"账户状态："}),r.jsx("span",{style:{marginLeft:8,color:e!=null&&e.is_active?"#52c41a":"#ff4d4f"},children:e!=null&&e.is_active?"已激活":"未激活"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[r.jsx("strong",{children:"用户类型："}),r.jsx("span",{style:{marginLeft:8,color:e!=null&&e.is_admin?"#722ed1":"#666"},children:e!=null&&e.is_admin?"管理员":"普通用户"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("strong",{children:"注册时间："}),r.jsx("span",{style:{marginLeft:8},children:e!=null&&e.created_at?new Date(e.created_at).toLocaleString("zh-CN"):"-"})]})]})}),r.jsx(D,{title:"修改密码",children:r.jsxs(b,{form:s,layout:"vertical",onFinish:i,style:{maxWidth:400},children:[r.jsx(b.Item,{name:"currentPassword",label:"当前密码",rules:[{required:!0,message:"请输入当前密码"}],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请输入当前密码"})}),r.jsx(b.Item,{name:"newPassword",label:"新密码",rules:[{required:!0,message:"请输入新密码"},{min:6,message:"密码至少6位"}],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请输入新密码"})}),r.jsx(b.Item,{name:"confirmPassword",label:"确认新密码",dependencies:["newPassword"],rules:[{required:!0,message:"请确认新密码"},({getFieldValue:o})=>({validator(a,l){return!l||o("newPassword")===l?Promise.resolve():Promise.reject(new Error("两次输入的密码不一致"))}})],children:r.jsx(O.Password,{prefix:r.jsx(Z,{}),placeholder:"请确认新密码"})}),r.jsx(b.Item,{children:r.jsx(A,{type:"primary",htmlType:"submit",loading:t,children:"修改密码"})})]})})]})},{Header:Qi,Sider:Zi,Content:eo}=ie,to=()=>{const e=Ae(),t=dt(),{user:n,logout:s}=ee(),[i,o]=T.useState(!1),[a,l]=T.useState(!1),f=[{key:"/admin",icon:r.jsx(Jt,{}),label:"管理仪表盘"},{key:"/admin/users",icon:r.jsx(H,{}),label:"用户管理"},{key:"/admin/domains",icon:r.jsx(De,{}),label:"域名管理"},{key:"/admin/providers",icon:r.jsx(ut,{}),label:"DNS服务商"},{key:"/admin/smtp-configs",icon:r.jsx(Ie,{}),label:"SMTP配置"}],c=[{key:"home",icon:r.jsx(qr,{}),label:"返回首页",onClick:()=>e("/")},{key:"profile",icon:r.jsx(H,{}),label:"个人资料",onClick:()=>e("/profile")},{type:"divider"},{key:"logout",icon:r.jsx(Bt,{}),label:"退出登录",onClick:s}];return r.jsxs(ie,{style:{minHeight:"100vh"},children:[r.jsxs(Zi,{collapsible:!0,collapsed:i,onCollapse:o,breakpoint:"lg",onBreakpoint:l,collapsedWidth:"0",trigger:null,width:250,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0,zIndex:10},children:[r.jsx("div",{style:{height:32,margin:16,background:"rgba(255, 255, 255, 0.3)",borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:16,fontWeight:"bold"},children:a||!i?"管理后台":"管理"}),r.jsx(Ut,{theme:"dark",mode:"inline",selectedKeys:[t.pathname],items:f,onClick:({key:p})=>e(p)})]}),r.jsxs(ie,{style:{marginLeft:a?0:i?80:250,transition:"margin-left 0.2s"},children:[r.jsxs(Qi,{style:{padding:"0 24px",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(A,{type:"text",icon:r.jsx(qt,{}),onClick:()=>o(!i),style:{fontSize:"16px"}}),r.jsx("div",{style:{flexGrow:1}}),r.jsx(Ht,{menu:{items:c},placement:"bottomRight",children:r.jsxs(X,{style:{cursor:"pointer"},children:[r.jsx(Vt,{icon:r.jsx(H,{})}),r.jsxs("span",{children:["管理员: ",n==null?void 0:n.email]})]})})]}),r.jsx(eo,{style:{margin:"24px 16px 0",overflow:"initial"},children:r.jsx("div",{style:{padding:24,minHeight:360,background:"#fff",borderRadius:8},children:r.jsx(zt,{})})})]})]})},{Title:ro}=ne,no=()=>{const[e,t]=T.useState(null),[n,s]=T.useState(!0);T.useEffect(()=>{i()},[]);const i=async()=>{try{const o=await P.get("/api/admin/stats");t(o.data.stats)}catch(o){console.error("获取统计数据失败:",o)}finally{s(!1)}};return n?r.jsx("div",{style:{textAlign:"center",padding:"50px"},children:r.jsx(Wt,{size:"large"})}):r.jsxs("div",{children:[r.jsx(ro,{level:2,style:{marginBottom:32},children:"管理仪表盘"}),r.jsxs(G,{gutter:[16,16],children:[r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsxs(D,{children:[r.jsx(Q,{title:"总用户数",value:(e==null?void 0:e.users.total)||0,prefix:r.jsx(H,{}),valueStyle:{color:"#1890ff"}}),r.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#666"},children:["活跃用户: ",(e==null?void 0:e.users.active)||0]})]})}),r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsxs(D,{children:[r.jsx(Q,{title:"总域名数",value:(e==null?void 0:e.domains.total)||0,prefix:r.jsx(De,{}),valueStyle:{color:"#52c41a"}}),r.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#666"},children:["活跃域名: ",(e==null?void 0:e.domains.active)||0]})]})}),r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsx(D,{children:r.jsx(Q,{title:"DNS记录数",value:(e==null?void 0:e.records)||0,prefix:r.jsx(Hr,{}),valueStyle:{color:"#722ed1"}})})}),r.jsx(N,{xs:24,sm:12,lg:6,children:r.jsx(D,{children:r.jsx(Q,{title:"DNS服务商",value:(e==null?void 0:e.providers)||0,prefix:r.jsx(ut,{}),valueStyle:{color:"#fa8c16"}})})})]}),r.jsxs(G,{gutter:[16,16],style:{marginTop:24},children:[r.jsx(N,{xs:24,lg:12,children:r.jsx(D,{title:"系统概览",style:{height:400},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",padding:"20px 0"},children:[r.jsxs("div",{children:[r.jsx("h4",{children:"用户管理"}),r.jsx("p",{style:{color:"#666"},children:"管理系统中的所有用户账户，包括激活、禁用和权限设置"})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"域名管理"}),r.jsx("p",{style:{color:"#666"},children:"添加和管理可供用户使用的域名资源"})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"DNS服务商"}),r.jsx("p",{style:{color:"#666"},children:"配置和管理DNS服务商的API凭证和设置"})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"系统监控"}),r.jsx("p",{style:{color:"#666"},children:"监控系统运行状态和性能指标"})]})]})})}),r.jsx(N,{xs:24,lg:12,children:r.jsx(D,{title:"最近活动",style:{height:400},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",padding:"20px 0"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:[r.jsx("span",{children:"新用户注册"}),r.jsx("span",{style:{color:"#666"},children:"2小时前"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:[r.jsx("span",{children:"DNS记录更新"}),r.jsx("span",{style:{color:"#666"},children:"5小时前"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:[r.jsx("span",{children:"域名添加"}),r.jsx("span",{style:{color:"#666"},children:"1天前"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:[r.jsx("span",{children:"系统配置更新"}),r.jsx("span",{style:{color:"#666"},children:"2天前"})]})]})})})]})]})},{Title:so}=ne,{Search:io}=O,oo=()=>{const[e,t]=T.useState([]),[n,s]=T.useState(!1),[i,o]=T.useState(!1),[a,l]=T.useState(null),[f,c]=T.useState({current:1,pageSize:10,total:0}),[p,x]=T.useState(""),[S]=b.useForm();T.useEffect(()=>{E()},[f.current,f.pageSize,p]);const E=async()=>{s(!0);try{const _=await P.get("/api/admin/users",{params:{page:f.current,pageSize:f.pageSize,search:p}}),{users:R,pagination:F}=_.data;t(R||[]),c($=>({...$,total:F.total}))}catch{v.error("获取用户列表失败")}finally{s(!1)}},m=_=>{l(_),S.setFieldsValue({email:_.email,is_active:_.is_active,is_admin:_.is_admin}),o(!0)},g=async _=>{var R,F;try{await P.delete(`/api/admin/users/${_}`),v.success("用户删除成功"),E()}catch($){v.error(((F=(R=$.response)==null?void 0:R.data)==null?void 0:F.error)||"删除失败")}},h=async _=>{var F,$;if(!a)return;const R={..._};R.password||delete R.password;try{await P.put(`/api/admin/users/${a.id}`,R),v.success("用户更新成功"),o(!1),E()}catch(w){v.error((($=(F=w.response)==null?void 0:F.data)==null?void 0:$.error)||"更新失败")}},y=_=>{x(_),c(R=>({...R,current:1}))},d=_=>{c(R=>({...R,current:_.current,pageSize:_.pageSize}))},j=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"邮箱",dataIndex:"email",key:"email"},{title:"状态",dataIndex:"is_active",key:"is_active",render:_=>r.jsx(W,{color:_?"green":"red",children:_?"已激活":"未激活"})},{title:"用户类型",dataIndex:"is_admin",key:"is_admin",render:_=>r.jsx(W,{color:_?"purple":"default",children:_?"管理员":"普通用户"})},{title:"注册时间",dataIndex:"created_at",key:"created_at",render:_=>new Date(_).toLocaleString("zh-CN")},{title:"操作",key:"actions",render:(_,R)=>r.jsxs(X,{children:[r.jsx(A,{type:"link",icon:r.jsx(ye,{}),onClick:()=>m(R),children:"编辑"}),r.jsx(ge,{title:"确定要删除这个用户吗？",onConfirm:()=>g(R.id),okText:"确定",cancelText:"取消",children:r.jsx(A,{type:"link",danger:!0,icon:r.jsx(je,{}),children:"删除"})})]})}];return r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[r.jsx(so,{level:2,style:{margin:0},children:"用户管理"}),r.jsx(io,{placeholder:"搜索用户邮箱",allowClear:!0,enterButton:r.jsx(Vr,{}),style:{width:300},onSearch:y})]}),r.jsx(D,{children:r.jsx(xe,{columns:j,dataSource:e,rowKey:"id",loading:n,pagination:{...f,showSizeChanger:!0,showQuickJumper:!0,showTotal:(_,R)=>`第 ${R[0]}-${R[1]} 条，共 ${_} 条记录`},onChange:d,scroll:{x:"max-content"}})}),r.jsx(oe,{title:"编辑用户",open:i,onCancel:()=>o(!1),onOk:()=>S.submit(),okText:"确定",cancelText:"取消",children:r.jsxs(b,{form:S,layout:"vertical",onFinish:h,children:[r.jsx(b.Item,{name:"email",label:"邮箱地址",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入有效的邮箱地址"}],children:r.jsx(O,{})}),r.jsx(b.Item,{name:"password",label:"新密码 (可选)",rules:[{min:6,message:"密码至少6位"}],children:r.jsx(O.Password,{placeholder:"留空则不修改密码"})}),r.jsx(b.Item,{name:"is_active",label:"账户状态",valuePropName:"checked",children:r.jsx(pe,{checkedChildren:"已激活",unCheckedChildren:"未激活"})}),r.jsx(b.Item,{name:"is_admin",label:"管理员权限",valuePropName:"checked",children:r.jsx(pe,{checkedChildren:"管理员",unCheckedChildren:"普通用户"})})]})})]})},{Title:ao}=ne,lo=()=>{const[e,t]=T.useState([]),[n,s]=T.useState(!1),[i,o]=T.useState(!1),[a,l]=T.useState(null),[f]=b.useForm(),[c,p]=T.useState(!1);T.useEffect(()=>{x()},[]);const x=async()=>{s(!0);try{const d=await P.get("/api/admin/domains");t(d.data.domains||[])}catch{v.error("获取域名列表失败")}finally{s(!1)}},S=()=>{l(null),f.resetFields(),f.setFieldsValue({is_active:!0}),o(!0)},E=d=>{l(d),f.setFieldsValue({name:d.name,is_active:d.is_active}),o(!0)},m=async d=>{var j,_;try{await P.delete(`/api/admin/domains/${d}`),v.success("域名删除成功"),x()}catch(R){v.error(((_=(j=R.response)==null?void 0:j.data)==null?void 0:_.error)||"删除失败")}},g=async()=>{var d,j;p(!0);try{await P.post("/api/admin/domains/sync"),v.success("域名同步成功"),x()}catch(_){v.error(((j=(d=_.response)==null?void 0:d.data)==null?void 0:j.error)||"同步失败")}finally{p(!1)}},h=async d=>{var j,_;try{a?(await P.put(`/api/admin/domains/${a.id}`,d),v.success("域名更新成功")):(await P.post("/api/admin/domains",d),v.success("域名创建成功")),o(!1),x()}catch(R){v.error(((_=(j=R.response)==null?void 0:j.data)==null?void 0:_.error)||"操作失败")}},y=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"域名",dataIndex:"name",key:"name",render:d=>r.jsx("strong",{children:d})},{title:"域名类型",dataIndex:"domain_type",key:"domain_type",render:d=>{let j="default";return d==="二级域名"?j="success":d==="三级域名"?j="processing":d==="多级域名"&&(j="warning"),r.jsx(W,{color:j,children:d})}},{title:"状态",dataIndex:"is_active",key:"is_active",render:d=>r.jsx(W,{color:d?"green":"red",children:d?"启用":"禁用"})},{title:"创建时间",dataIndex:"created_at",key:"created_at",render:d=>new Date(d).toLocaleString("zh-CN")},{title:"操作",key:"actions",render:(d,j)=>r.jsxs(X,{children:[r.jsx(A,{type:"link",icon:r.jsx(ye,{}),onClick:()=>E(j),children:"编辑"}),r.jsx(ge,{title:"确定要删除这个域名吗？",description:"删除域名前请确保没有关联的DNS记录",onConfirm:()=>m(j.id),okText:"确定",cancelText:"取消",children:r.jsx(A,{type:"link",danger:!0,icon:r.jsx(je,{}),children:"删除"})})]})}];return r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[r.jsx(ao,{level:2,style:{margin:0},children:"域名管理"}),r.jsxs(X,{children:[r.jsx(A,{icon:r.jsx(Jr,{}),onClick:g,loading:c,children:"同步域名"}),r.jsx(A,{type:"primary",icon:r.jsx(Ne,{}),onClick:S,children:"添加域名"})]})]}),r.jsx(D,{children:r.jsx(xe,{columns:y,dataSource:e,rowKey:"id",loading:n,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:d=>`共 ${d} 个域名`},scroll:{x:"max-content"}})}),r.jsx(oe,{title:a?"编辑域名":"添加域名",open:i,onCancel:()=>o(!1),onOk:()=>f.submit(),okText:"确定",cancelText:"取消",children:r.jsxs(b,{form:f,layout:"vertical",onFinish:h,children:[r.jsx(b.Item,{name:"name",label:"域名",rules:[{required:!0,message:"请输入域名"},{pattern:/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/,message:"请输入有效的域名格式"}],children:r.jsx(O,{placeholder:"例如: example.com",disabled:!!a})}),r.jsx(b.Item,{name:"is_active",label:"状态",valuePropName:"checked",children:r.jsx(pe,{checkedChildren:"启用",unCheckedChildren:"禁用"})})]})})]})},{Title:co}=ne,{Option:rt}=se,{TextArea:uo}=O,fo=()=>{const[e,t]=T.useState([]),[n,s]=T.useState(!1),[i,o]=T.useState(!1),[a,l]=T.useState(null),[f]=b.useForm();T.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const y=await P.get("/api/admin/dns-providers");t(y.data.providers||[])}catch{v.error("获取DNS服务商列表失败")}finally{s(!1)}},p=()=>{l(null),f.resetFields(),f.setFieldsValue({is_active:!0,type:"dnspod"}),o(!0)},x=y=>{l(y),f.setFieldsValue({name:y.name,type:y.type,config:y.config,is_active:y.is_active}),o(!0)},S=async y=>{var d,j;try{await P.delete(`/api/admin/dns-providers/${y}`),v.success("DNS服务商删除成功"),c()}catch(_){v.error(((j=(d=_.response)==null?void 0:d.data)==null?void 0:j.error)||"删除失败")}},E=async y=>{var d,j;try{a?(await P.put(`/api/admin/dns-providers/${a.id}`,y),v.success("DNS服务商更新成功")):(await P.post("/api/admin/dns-providers",y),v.success("DNS服务商创建成功")),o(!1),c()}catch(_){v.error(((j=(d=_.response)==null?void 0:d.data)==null?void 0:j.error)||"操作失败")}},m=y=>{switch(y){case"dnspod":return JSON.stringify({token:""},null,2);case"dnspod_v3":return JSON.stringify({secret_id:"",secret_key:"",region:""},null,2);case"cloudflare":return JSON.stringify({api_token:"",zone_id:""},null,2);default:return"{}"}},g=y=>{const d=m(y);f.setFieldsValue({config:d})},h=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"名称",dataIndex:"name",key:"name",render:y=>r.jsx("strong",{children:y})},{title:"类型",dataIndex:"type",key:"type",render:y=>r.jsx(W,{color:y==="dnspod"?"blue":y==="dnspod_v3"?"green":y==="cloudflare"?"orange":"default",children:y==="dnspod_v3"?"腾讯云DNSPod":y.toUpperCase()})},{title:"状态",dataIndex:"is_active",key:"is_active",render:y=>r.jsx(W,{color:y?"green":"red",children:y?"启用":"禁用"})},{title:"创建时间",dataIndex:"created_at",key:"created_at",render:y=>new Date(y).toLocaleString("zh-CN")},{title:"操作",key:"actions",render:(y,d)=>r.jsxs(X,{children:[r.jsx(A,{type:"link",icon:r.jsx(ye,{}),onClick:()=>x(d),children:"编辑"}),r.jsx(ge,{title:"确定要删除这个DNS服务商吗？",onConfirm:()=>S(d.id),okText:"确定",cancelText:"取消",children:r.jsx(A,{type:"link",danger:!0,icon:r.jsx(je,{}),children:"删除"})})]})}];return r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[r.jsx(co,{level:2,style:{margin:0},children:"DNS服务商管理"}),r.jsx(A,{type:"primary",icon:r.jsx(Ne,{}),onClick:p,children:"添加服务商"})]}),r.jsx(D,{children:r.jsx(xe,{columns:h,dataSource:e,rowKey:"id",loading:n,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:y=>`共 ${y} 个DNS服务商`},scroll:{x:"max-content"}})}),r.jsx(oe,{title:a?"编辑DNS服务商":"添加DNS服务商",open:i,onCancel:()=>o(!1),onOk:()=>f.submit(),okText:"确定",cancelText:"取消",width:600,children:r.jsxs(b,{form:f,layout:"vertical",onFinish:E,children:[r.jsx(b.Item,{name:"name",label:"服务商名称",rules:[{required:!0,message:"请输入服务商名称"}],children:r.jsx(O,{placeholder:"例如: DNSPod主服务商"})}),r.jsx(b.Item,{name:"type",label:"服务商类型",rules:[{required:!0,message:"请选择服务商类型"}],children:r.jsxs(se,{placeholder:"选择服务商类型",onChange:g,children:[r.jsx(rt,{value:"dnspod",children:"DNSPod (旧版API)"}),r.jsx(rt,{value:"dnspod_v3",children:"腾讯云DNSPod (推荐)"}),r.jsx(rt,{value:"cloudflare",children:"Cloudflare (暂未支持)"})]})}),r.jsx(b.Item,{name:"config",label:"配置信息 (JSON格式)",rules:[{required:!0,message:"请输入配置信息"},{validator:(y,d)=>{try{return JSON.parse(d),Promise.resolve()}catch{return Promise.reject(new Error("请输入有效的JSON格式"))}}}],children:r.jsx(uo,{rows:6,placeholder:"请输入JSON格式的配置信息"})}),r.jsx(b.Item,{name:"is_active",label:"状态",valuePropName:"checked",children:r.jsx(pe,{checkedChildren:"启用",unCheckedChildren:"禁用"})}),r.jsxs("div",{style:{background:"#f6f8fa",padding:"12px",borderRadius:"6px",marginTop:"16px"},children:[r.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:"配置说明:"}),r.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"12px",color:"#666"},children:[r.jsx("li",{children:"DNSPod (旧版): 需要提供token字段，格式: ID,Token"}),r.jsx("li",{children:"腾讯云DNSPod: 需要提供secret_id (36位，AKID开头)、secret_key (32位) 和region字段"}),r.jsx("li",{children:"支持地域: ap-guangzhou, ap-shanghai, ap-beijing 等"}),r.jsx("li",{children:"Cloudflare: 需要提供api_token和zone_id字段"}),r.jsx("li",{children:"推荐使用腾讯云DNSPod，采用TC3-HMAC-SHA256签名，安全性更高"}),r.jsx("li",{children:"请确保API凭证的有效性和DNS解析权限"})]})]})]})})]})},po=()=>{const[e,t]=T.useState([]),[n,s]=T.useState(!1),[i,o]=T.useState(!1),[a,l]=T.useState(!1),[f,c]=T.useState(null),[p,x]=T.useState(null),[S]=b.useForm(),[E]=b.useForm(),m=async()=>{var w,k;s(!0);try{const I=await P.get("/api/admin/smtp-configs");t(I.data.configs)}catch(I){v.error(((k=(w=I.response)==null?void 0:w.data)==null?void 0:k.error)||"获取SMTP配置列表失败")}finally{s(!1)}};T.useEffect(()=>{m()},[]);const g=()=>{c(null),S.resetFields(),o(!0)},h=w=>{c(w),S.setFieldsValue({name:w.name,host:w.host,port:w.port,username:w.username,from_email:w.from_email,from_name:w.from_name,use_tls:w.use_tls,description:w.description}),o(!0)},y=async w=>{var k,I;try{f?(await P.put(`/api/admin/smtp-configs/${f.id}`,w),v.success("SMTP配置更新成功")):(await P.post("/api/admin/smtp-configs",w),v.success("SMTP配置创建成功")),o(!1),m()}catch(K){v.error(((I=(k=K.response)==null?void 0:k.data)==null?void 0:I.error)||"保存失败")}},d=async w=>{var k,I;try{await P.delete(`/api/admin/smtp-configs/${w}`),v.success("SMTP配置删除成功"),m()}catch(K){v.error(((I=(k=K.response)==null?void 0:k.data)==null?void 0:I.error)||"删除失败")}},j=async w=>{var k,I;try{await P.post(`/api/admin/smtp-configs/${w}/activate`),v.success("SMTP配置激活成功"),m()}catch(K){v.error(((I=(k=K.response)==null?void 0:k.data)==null?void 0:I.error)||"激活失败")}},_=async w=>{var k,I;try{await P.post(`/api/admin/smtp-configs/${w}/set-default`),v.success("默认SMTP配置设置成功"),m()}catch(K){v.error(((I=(k=K.response)==null?void 0:k.data)==null?void 0:I.error)||"设置失败")}},R=w=>{x(w),E.resetFields(),l(!0)},F=async w=>{var k,I;if(p)try{await P.post(`/api/admin/smtp-configs/${p.id}/test`,w),v.success("测试邮件发送成功"),l(!1),m()}catch(K){v.error(((I=(k=K.response)==null?void 0:k.data)==null?void 0:I.error)||"测试失败")}},$=[{title:"配置名称",dataIndex:"name",key:"name",render:(w,k)=>r.jsxs("div",{children:[r.jsx("span",{children:w}),r.jsx("div",{style:{fontSize:"12px",color:"#666"},children:k.from_email})]})},{title:"SMTP服务器",key:"server",render:w=>r.jsxs("div",{children:[r.jsxs("div",{children:[w.host,":",w.port]}),r.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["TLS: ",w.use_tls?"启用":"禁用"]})]})},{title:"状态",key:"status",render:w=>r.jsxs(X,{direction:"vertical",size:"small",children:[r.jsx(W,{color:w.is_active?"green":"default",children:w.is_active?"激活":"未激活"}),w.is_default&&r.jsx(W,{color:"blue",icon:r.jsx(jt,{}),children:"默认"})]})},{title:"最后测试",key:"test_result",render:w=>{var I;if(!w.last_test_at)return r.jsx("span",{style:{color:"#999"},children:"未测试"});const k=(I=w.test_result)==null?void 0:I.includes("成功");return r.jsxs("div",{children:[r.jsx(W,{color:k?"green":"red",children:k?"成功":"失败"}),r.jsx("div",{style:{fontSize:"12px",color:"#666"},children:new Date(w.last_test_at).toLocaleString()}),!k&&w.test_result&&r.jsx(Yt,{title:w.test_result,children:r.jsx(Wr,{style:{color:"#ff4d4f"}})})]})}},{title:"操作",key:"actions",render:w=>r.jsxs(X,{children:[r.jsx(A,{size:"small",icon:r.jsx(ye,{}),onClick:()=>h(w),children:"编辑"}),r.jsx(A,{size:"small",icon:r.jsx(Kr,{}),onClick:()=>R(w),children:"测试"}),!w.is_active&&r.jsx(A,{size:"small",type:"primary",icon:r.jsx(Xr,{}),onClick:()=>j(w.id),children:"激活"}),!w.is_default&&r.jsx(A,{size:"small",icon:r.jsx(jt,{}),onClick:()=>_(w.id),children:"设为默认"}),r.jsx(ge,{title:"确定要删除这个SMTP配置吗？",onConfirm:()=>d(w.id),okText:"确定",cancelText:"取消",children:r.jsx(A,{size:"small",danger:!0,icon:r.jsx(je,{}),disabled:w.is_default,children:"删除"})})]})}];return r.jsxs("div",{children:[r.jsx(D,{title:"SMTP配置管理",extra:r.jsx(A,{type:"primary",icon:r.jsx(Ne,{}),onClick:g,children:"添加配置"}),children:r.jsx(xe,{columns:$,dataSource:e,rowKey:"id",loading:n,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:w=>`共 ${w} 条记录`}})}),r.jsx(oe,{title:f?"编辑SMTP配置":"创建SMTP配置",visible:i,onCancel:()=>o(!1),onOk:()=>S.submit(),width:600,destroyOnClose:!0,children:r.jsxs(b,{form:S,layout:"vertical",onFinish:y,children:[r.jsxs(G,{gutter:16,children:[r.jsx(N,{span:12,children:r.jsx(b.Item,{label:"配置名称",name:"name",rules:[{required:!0,message:"请输入配置名称"},{max:100,message:"名称长度不能超过100位"}],children:r.jsx(O,{placeholder:"如：Gmail SMTP"})})}),r.jsx(N,{span:12,children:r.jsx(b.Item,{label:"SMTP服务器",name:"host",rules:[{required:!0,message:"请输入SMTP服务器地址"},{max:255,message:"地址长度不能超过255位"}],children:r.jsx(O,{placeholder:"如：smtp.gmail.com"})})})]}),r.jsxs(G,{gutter:16,children:[r.jsx(N,{span:8,children:r.jsx(b.Item,{label:"端口",name:"port",rules:[{required:!0,message:"请输入端口号"},{type:"number",min:1,max:65535,message:"端口号范围1-65535"}],children:r.jsx(Yr,{style:{width:"100%"},placeholder:"587"})})}),r.jsx(N,{span:8,children:r.jsx(b.Item,{label:"使用TLS",name:"use_tls",valuePropName:"checked",initialValue:!0,children:r.jsx(pe,{})})})]}),r.jsxs(G,{gutter:16,children:[r.jsx(N,{span:12,children:r.jsx(b.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"},{max:255,message:"用户名长度不能超过255位"}],children:r.jsx(O,{placeholder:"SMTP认证用户名"})})}),r.jsx(N,{span:12,children:r.jsx(b.Item,{label:f?"密码（留空则不修改）":"密码",name:"password",rules:f?[]:[{required:!0,message:"请输入密码"},{max:255,message:"密码长度不能超过255位"}],children:r.jsx(O.Password,{placeholder:"SMTP认证密码"})})})]}),r.jsxs(G,{gutter:16,children:[r.jsx(N,{span:12,children:r.jsx(b.Item,{label:"发件人邮箱",name:"from_email",rules:[{required:!0,message:"请输入发件人邮箱"},{type:"email",message:"请输入有效的邮箱地址"},{max:255,message:"邮箱长度不能超过255位"}],children:r.jsx(O,{placeholder:"发送邮件时的发件人地址"})})}),r.jsx(N,{span:12,children:r.jsx(b.Item,{label:"发件人名称",name:"from_name",rules:[{max:100,message:"名称长度不能超过100位"}],children:r.jsx(O,{placeholder:"发送邮件时的发件人姓名"})})})]}),r.jsx(b.Item,{label:"描述",name:"description",rules:[{max:500,message:"描述长度不能超过500位"}],children:r.jsx(O.TextArea,{rows:3,placeholder:"配置描述（可选）"})})]})}),r.jsx(oe,{title:`测试SMTP配置: ${p==null?void 0:p.name}`,visible:a,onCancel:()=>l(!1),onOk:()=>E.submit(),destroyOnClose:!0,children:r.jsxs(b,{form:E,layout:"vertical",onFinish:F,children:[r.jsx(b.Item,{label:"测试邮箱地址",name:"to_email",rules:[{required:!0,message:"请输入测试邮箱地址"},{type:"email",message:"请输入有效的邮箱地址"}],children:r.jsx(O,{placeholder:"输入要接收测试邮件的邮箱地址"})}),r.jsx("div",{style:{color:"#666",fontSize:"14px"},children:"点击确定后，系统将向指定邮箱发送一封测试邮件，用于验证SMTP配置是否正常工作。"})]})})]})};function ho(){const{user:e,initAuth:t}=ee();return T.useEffect(()=>{t()},[t]),r.jsxs(Fr,{children:[r.jsx(z,{path:"/login",element:e?r.jsx(ue,{to:"/",replace:!0}):r.jsx(Ui,{})}),r.jsx(z,{path:"/register",element:e?r.jsx(ue,{to:"/",replace:!0}):r.jsx(qi,{})}),r.jsx(z,{path:"/forgot-password",element:r.jsx(Vi,{})}),r.jsx(z,{path:"/reset-password",element:r.jsx(Hi,{})}),r.jsxs(z,{path:"/",element:r.jsx(Ft,{children:r.jsx(Bi,{})}),children:[r.jsx(z,{index:!0,element:r.jsx(Yi,{})}),r.jsx(z,{path:"dns-records",element:r.jsx(Ki,{})}),r.jsx(z,{path:"profile",element:r.jsx(Gi,{})})]}),r.jsxs(z,{path:"/admin",element:r.jsx(Ft,{adminOnly:!0,children:r.jsx(to,{})}),children:[r.jsx(z,{index:!0,element:r.jsx(no,{})}),r.jsx(z,{path:"users",element:r.jsx(oo,{})}),r.jsx(z,{path:"domains",element:r.jsx(lo,{})}),r.jsx(z,{path:"providers",element:r.jsx(fo,{})}),r.jsx(z,{path:"smtp-configs",element:r.jsx(po,{})})]}),r.jsx(z,{path:"*",element:r.jsx(ue,{to:"/",replace:!0})})]})}nt.createRoot(document.getElementById("root")).render(r.jsx(Mt.StrictMode,{children:r.jsx(Gr,{locale:_n,children:r.jsx($r,{children:r.jsx(ho,{})})})}));
